(function(e,t,r){if(typeof module!=="undefined"&&module.exports){module.exports=r()}else if(typeof define==="function"&&define.amd){define(r)}else{t[e]=r()}})("TELEPRINT",typeof window!=="undefined"?window:this,function(){var e="v1.0.2";"use strict";var t=function e(t){var r=t.html;var n=t.assets;var i=t.inherit||{};var a=t.test;var s=window.document;var l={styles:0,scripts:0,print:true};function o(e){return e.nodeType===1||e.nodeType===9||e.nodeType===11?true:false}function d(e,t){delete window.frames[e];s.body.removeChild(t)}function f(e,t){var r;var n=0;var i=e.length;for(;n<i;n++){r=e[n].cloneNode(true);t.appendChild(r)}return t}function c(e,t){var r=s.createElement("script");r.type="text/javascript";r.async=true;if(!t){r.src="http://localhost"}else{r.src=t}e.appendChild(r);return e}function u(e,t){var r=s.createElement("link");r.type="text/css";r.rel="stylesheet";r.href=t;e.appendChild(r);return e}var p=!!o(r)?r.outerHTML:r;var v="TELEPRINT-"+Date.now();var h='<iframe style="width:1px; height: 1px; position: absolute; left: -9999px" id="'+v+'" name="'+v+'">';s.body.insertAdjacentHTML("afterBegin",h);var y=s.getElementById(v);var m=window.frames[v];var w=m.document;var E=s.createDocumentFragment();var g=s.createDocumentFragment();var T="<!DOCTYPE html><html><head></head><body>";T+=p;T+="</body></html>";w.open();w.write(T);w.close();if(i===true||i.css===true){var C=s.querySelectorAll("link, style");E=f(C,E)}if(i===true||i.js===true){var x=s.querySelectorAll("script");g=f(x,g)}if(Array.isArray(n)){var b,A;var L=0;var j=n.length;for(;L<j;L++){var D=n[L].substr(n[L].lastIndexOf(".")+1);if(D==="css"){E=u(E,n[L])}else if(D==="js"){g=c(g,n[L])}}}l.styles=E.children.length;l.scripts=g.children.length;if(!m.print)l.print=false;if(l.styles===0&&l.scripts===0){g=c(g,false)}if(!a){var I=w.getElementsByTagName("head")[0];I.appendChild(E);I.appendChild(g);var N=I.lastChild;I.lastChild.addEventListener("load",function(e){m.focus();m.print();d(v,y)},0);if(l.styles===0&&l.scripts===0){var B=new Event("load");N.dispatchEvent(B)}}else{d(v,y);return l}};teleprint=function(){teleprint=function(r){this.version=e;return t(r)};return window.teleprint=teleprint}()});