(function(e,t,r){if(typeof module!=="undefined"&&module.exports){module.exports=r()}else if(typeof define==="function"&&define.amd){define(r)}else{t[e]=r()}})("TELEPRINT",typeof window!=="undefined"?window:this,function(){var e="v1.0.0";"use strict";var t=function e(t){var r=t.html;var n=t.assets;var i=t.inherit||{};var a=t.test;var l=window.document;var s={styles:0,scripts:0,print:true};function d(e){return e.nodeType===1||e.nodeType===9||e.nodeType===11?true:false}function o(e,t){delete window.frames[e];l.body.removeChild(t)}function f(e,t){var r;var n=0;var i=e.length;for(;n<i;n++){r=e[n].cloneNode(true);t.appendChild(r)}return t}var u=!!d(r)?r.outerHTML:r;var p="TELEPRINT-"+Date.now();var c='<iframe style="width:1px; height: 1px; position: absolute; left: -9999px" id="'+p+'" name="'+p+'">';l.body.insertAdjacentHTML("afterBegin",c);var v=l.getElementById(p);var h=window.frames[p];var m=h.document;var y=l.createDocumentFragment();var w=l.createDocumentFragment();var g="<!DOCTYPE html><html><head></head><body>";g+=u;g+="</body></html>";m.open();m.write(g);m.close();if(i===true||i.css===true){var T=l.querySelectorAll("link, style");y=f(T,y)}if(i===true||i.js===true){var E=l.querySelectorAll("script");w=f(E,w)}if(Array.isArray(n)){var x,C;var b=0;var A=n.length;for(;b<A;b++){var L=n[b].substr(n[b].lastIndexOf(".")+1);if(L==="css"){x=l.createElement("link");x.type="text/css";x.rel="stylesheet";x.href=n[b];y.appendChild(x)}else if(L==="js"){C=l.createElement("script");C.type="text/javascript";C.async=true;C.src=n[b];w.appendChild(C)}}}s.styles=y.children.length;s.scripts=w.children.length;if(!h.print)s.print=false;var j=m.getElementsByTagName("head")[0];j.appendChild(y);j.appendChild(w);if(!a){j.lastChild.addEventListener("load",function(e){h.focus();h.print();o(p,v)},0)}else{o(p,v);return s}};teleprint=function(){teleprint=function(r){this.version=e;return t(r)};return window.teleprint=teleprint}()});